<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SpringHack WSSSH Client</title>
  <link rel="stylesheet" href="/xterm.css" />
  <link rel="stylesheet" href="/style.css" />
  <script src="/xterm.js"></script>
  <script src="/client.js"></script>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <section id='login'>
    <h3>Login:</h3>
    <label>Host: </label><input tabindex='1' id='host' type='text' /><br><br>
    <label>Port: </label><input tabindex='2' id='port' type='text' value='22' /><br><br>
    <label>User: </label><input tabindex='3' id='user' type='text' /><br><br>
    <label>Pass: </label><input tabindex='4' id='pass' type='password' /><br><br>
    <label>PrivateKey: </label><label tabindex='5' for='privateKey' id='cfile'>No private key</label>
    <input type='file' id='privateKey' onchange='client.handleFiles(this.files)'><br><br>
    <button tabindex='6' onclick='client.connect()'>Connect</button>
  </section>
  <section id='term-can'>
    <section id='term'>
      <div id="header">Login</div>
      <div id="terminal" class="terminal">
        <script>
            var search = window.location.search.substring(1,);
            var arr = search.split('&');
            arr.forEach(item => {
                if (item.indexOf('host') > -1) 
                    document.getElementById('host').value = item.split('=')[1];
                if (item.indexOf('port') > -1) 
                    document.getElementById('port').value = item.split('=')[1];
            })
            client.run();
        </script>
      </div>
      <div id="bottomdiv">
        <div id="footer"></div>
        <div id="status"></div>
      </div>
    </sesction>
  </sesction>
</body>
</html>
